{"ast":null,"code":"var _s = $RefreshSig$();\nconst React = require('react');\nconst {\n  useSpring,\n  animated\n} = require('@react-spring/web');\nconst useWindowSize = require('./useWindowSize');\nconst settings = {\n  maxTilt: 25,\n  // in deg\n  rotationPower: 50,\n  swipeThreshold: 0.5 // need to update this threshold for RN (1.5 seems reasonable...?)\n};\n\n// physical properties of the spring\nconst physics = {\n  touchResponsive: {\n    friction: 50,\n    tension: 2000\n  },\n  animateOut: {\n    friction: 30,\n    tension: 400\n  },\n  animateBack: {\n    friction: 10,\n    tension: 200\n  }\n};\nconst pythagoras = (x, y) => {\n  return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n};\nconst normalize = vector => {\n  const length = Math.sqrt(Math.pow(vector.x, 2) + Math.pow(vector.y, 2));\n  return {\n    x: vector.x / length,\n    y: vector.y / length\n  };\n};\nconst animateOut = async (gesture, setSpringTarget, windowHeight, windowWidth) => {\n  const diagonal = pythagoras(windowHeight, windowWidth);\n  const velocity = pythagoras(gesture.x, gesture.y);\n  const finalX = diagonal * gesture.x;\n  const finalY = diagonal * gesture.y;\n  const finalRotation = gesture.x * 45;\n  const duration = diagonal / velocity;\n  setSpringTarget.start({\n    xyrot: [finalX, finalY, finalRotation],\n    config: {\n      duration: duration\n    }\n  });\n\n  // for now animate back\n  return await new Promise(resolve => setTimeout(() => {\n    resolve();\n  }, duration));\n};\nconst animateBack = setSpringTarget => {\n  // translate back to the initial position\n  return new Promise(resolve => {\n    setSpringTarget.start({\n      xyrot: [0, 0, 0],\n      config: physics.animateBack,\n      onRest: resolve\n    });\n  });\n};\nconst getSwipeDirection = property => {\n  if (Math.abs(property.x) > Math.abs(property.y)) {\n    if (property.x > settings.swipeThreshold) {\n      return 'right';\n    } else if (property.x < -settings.swipeThreshold) {\n      return 'left';\n    }\n  } else {\n    if (property.y > settings.swipeThreshold) {\n      return 'down';\n    } else if (property.y < -settings.swipeThreshold) {\n      return 'up';\n    }\n  }\n  return 'none';\n};\n\n// must be created outside of the TinderCard forwardRef\nconst AnimatedDiv = animated.div;\nconst TinderCard = _s(React.forwardRef(_c = _s(({\n  flickOnSwipe = true,\n  children,\n  onSwipe,\n  onCardLeftScreen,\n  className,\n  preventSwipe = [],\n  swipeRequirementType = 'velocity',\n  swipeThreshold = settings.swipeThreshold,\n  onSwipeRequirementFulfilled,\n  onSwipeRequirementUnfulfilled\n}, ref) => {\n  _s();\n  const {\n    width,\n    height\n  } = useWindowSize();\n  const [{\n    xyrot\n  }, setSpringTarget] = useSpring(() => ({\n    xyrot: [0, 0, 0],\n    config: physics.touchResponsive\n  }));\n  settings.swipeThreshold = swipeThreshold;\n  React.useImperativeHandle(ref, () => ({\n    async swipe(dir = 'right') {\n      if (onSwipe) onSwipe(dir);\n      const power = 1.3;\n      const disturbance = (Math.random() - 0.5) / 2;\n      if (dir === 'right') {\n        await animateOut({\n          x: power,\n          y: disturbance\n        }, setSpringTarget, width, height);\n      } else if (dir === 'left') {\n        await animateOut({\n          x: -power,\n          y: disturbance\n        }, setSpringTarget, width, height);\n      } else if (dir === 'up') {\n        await animateOut({\n          x: disturbance,\n          y: -power\n        }, setSpringTarget, width, height);\n      } else if (dir === 'down') {\n        await animateOut({\n          x: disturbance,\n          y: power\n        }, setSpringTarget, width, height);\n      }\n      if (onCardLeftScreen) onCardLeftScreen(dir);\n    },\n    async restoreCard() {\n      await animateBack(setSpringTarget);\n    }\n  }));\n  const handleSwipeReleased = React.useCallback(async (setSpringTarget, gesture) => {\n    // Check if this is a swipe\n    const dir = getSwipeDirection({\n      x: swipeRequirementType === 'velocity' ? gesture.vx : gesture.dx,\n      y: swipeRequirementType === 'velocity' ? gesture.vy : gesture.dy\n    });\n    if (dir !== 'none') {\n      if (flickOnSwipe) {\n        if (!preventSwipe.includes(dir)) {\n          if (onSwipe) onSwipe(dir);\n          await animateOut(swipeRequirementType === 'velocity' ? {\n            x: gesture.vx,\n            y: gesture.vy\n          } : normalize({\n            x: gesture.dx,\n            y: gesture.dy\n          }) // Normalize to avoid flicking the card away with super fast speed only direction is wanted here\n          , setSpringTarget, width, height);\n          if (onCardLeftScreen) onCardLeftScreen(dir);\n          return;\n        }\n      }\n    }\n\n    // Card was not flicked away, animate back to start\n    animateBack(setSpringTarget);\n  }, [swipeRequirementType, flickOnSwipe, preventSwipe, onSwipe, onCardLeftScreen, width, height]);\n  let swipeThresholdFulfilledDirection = 'none';\n  const gestureStateFromWebEvent = (ev, startPositon, lastPosition, isTouch) => {\n    let dx = isTouch ? ev.touches[0].clientX - startPositon.x : ev.clientX - startPositon.x;\n    let dy = isTouch ? ev.touches[0].clientY - startPositon.y : ev.clientY - startPositon.y;\n\n    // We cant calculate velocity from the first event\n    if (startPositon.x === 0 && startPositon.y === 0) {\n      dx = 0;\n      dy = 0;\n    }\n    const vx = -(dx - lastPosition.dx) / (lastPosition.timeStamp - Date.now());\n    const vy = -(dy - lastPosition.dy) / (lastPosition.timeStamp - Date.now());\n    const gestureState = {\n      dx,\n      dy,\n      vx,\n      vy,\n      timeStamp: Date.now()\n    };\n    return gestureState;\n  };\n  React.useLayoutEffect(() => {\n    let startPositon = {\n      x: 0,\n      y: 0\n    };\n    let lastPosition = {\n      dx: 0,\n      dy: 0,\n      vx: 0,\n      vy: 0,\n      timeStamp: Date.now()\n    };\n    let isClicking = false;\n    const onTouchStart = ev => {\n      if (!ev.srcElement.className.includes('pressable') && ev.cancelable) {\n        ev.preventDefault();\n      }\n      const gestureState = gestureStateFromWebEvent(ev, startPositon, lastPosition, true);\n      lastPosition = gestureState;\n      startPositon = {\n        x: ev.touches[0].clientX,\n        y: ev.touches[0].clientY\n      };\n    };\n    element.current.addEventListener('touchstart', onTouchStart);\n    const onMouseDown = ev => {\n      isClicking = true;\n      const gestureState = gestureStateFromWebEvent(ev, startPositon, lastPosition, false);\n      lastPosition = gestureState;\n      startPositon = {\n        x: ev.clientX,\n        y: ev.clientY\n      };\n    };\n    element.current.addEventListener('mousedown', onMouseDown);\n    const handleMove = gestureState => {\n      // Check fulfillment\n      if (onSwipeRequirementFulfilled || onSwipeRequirementUnfulfilled) {\n        const dir = getSwipeDirection({\n          x: swipeRequirementType === 'velocity' ? gestureState.vx : gestureState.dx,\n          y: swipeRequirementType === 'velocity' ? gestureState.vy : gestureState.dy\n        });\n        if (dir !== swipeThresholdFulfilledDirection) {\n          swipeThresholdFulfilledDirection = dir;\n          if (swipeThresholdFulfilledDirection === 'none') {\n            if (onSwipeRequirementUnfulfilled) onSwipeRequirementUnfulfilled();\n          } else {\n            if (onSwipeRequirementFulfilled) onSwipeRequirementFulfilled(dir);\n          }\n        }\n      }\n\n      // use guestureState.vx / guestureState.vy for velocity calculations\n      // translate element\n      let rot = gestureState.vx * 15; // Magic number 15 looks about right\n      if (isNaN(rot)) rot = 0;\n      rot = Math.max(Math.min(rot, settings.maxTilt), -settings.maxTilt);\n      setSpringTarget.start({\n        xyrot: [gestureState.dx, gestureState.dy, rot],\n        config: physics.touchResponsive\n      });\n    };\n    const onMouseMove = ev => {\n      if (!isClicking) return;\n      const gestureState = gestureStateFromWebEvent(ev, startPositon, lastPosition, false);\n      lastPosition = gestureState;\n      handleMove(gestureState);\n    };\n    window.addEventListener('mousemove', onMouseMove);\n    const onMouseUp = ev => {\n      if (!isClicking) return;\n      isClicking = false;\n      handleSwipeReleased(setSpringTarget, lastPosition);\n      startPositon = {\n        x: 0,\n        y: 0\n      };\n      lastPosition = {\n        dx: 0,\n        dy: 0,\n        vx: 0,\n        vy: 0,\n        timeStamp: Date.now()\n      };\n    };\n    window.addEventListener('mouseup', onMouseUp);\n    const onTouchMove = ev => {\n      const gestureState = gestureStateFromWebEvent(ev, startPositon, lastPosition, true);\n      lastPosition = gestureState;\n      handleMove(gestureState);\n    };\n    element.current.addEventListener('touchmove', onTouchMove);\n    const onTouchEnd = ev => {\n      handleSwipeReleased(setSpringTarget, lastPosition);\n      startPositon = {\n        x: 0,\n        y: 0\n      };\n      lastPosition = {\n        dx: 0,\n        dy: 0,\n        vx: 0,\n        vy: 0,\n        timeStamp: Date.now()\n      };\n    };\n    element.current.addEventListener('touchend', onTouchEnd);\n    return () => {\n      element.current.removeEventListener('touchstart', onTouchStart);\n      element.current.removeEventListener('touchmove', onTouchMove);\n      element.current.removeEventListener('touchend', onTouchEnd);\n      window.removeEventListener('mousemove', onMouseMove);\n      window.removeEventListener('mouseup', onMouseUp);\n      element.current.removeEventListener('mousedown', onMouseDown);\n    };\n  }, [handleSwipeReleased, setSpringTarget, onSwipeRequirementFulfilled, onSwipeRequirementUnfulfilled]);\n  const element = React.useRef();\n  return React.createElement(AnimatedDiv, {\n    ref: element,\n    className,\n    style: {\n      transform: xyrot.to((x, y, rot) => `translate3d(${x}px, ${y}px, ${0}px) rotate(${rot}deg)`)\n    },\n    children\n  });\n}, \"7SoU7OlwRkxD258m1xma9/fuqu8=\", false, function () {\n  return [useWindowSize, useSpring];\n})), \"7SoU7OlwRkxD258m1xma9/fuqu8=\", false, function () {\n  return [useWindowSize, useSpring];\n});\n_c2 = TinderCard;\nmodule.exports = TinderCard;\nvar _c, _c2;\n$RefreshReg$(_c, \"TinderCard$React.forwardRef\");\n$RefreshReg$(_c2, \"TinderCard\");","map":{"version":3,"names":["React","require","useSpring","animated","useWindowSize","settings","maxTilt","rotationPower","swipeThreshold","physics","touchResponsive","friction","tension","animateOut","animateBack","pythagoras","x","y","Math","sqrt","pow","normalize","vector","length","gesture","setSpringTarget","windowHeight","windowWidth","diagonal","velocity","finalX","finalY","finalRotation","duration","start","xyrot","config","Promise","resolve","setTimeout","onRest","getSwipeDirection","property","abs","AnimatedDiv","div","TinderCard","_s","forwardRef","_c","flickOnSwipe","children","onSwipe","onCardLeftScreen","className","preventSwipe","swipeRequirementType","onSwipeRequirementFulfilled","onSwipeRequirementUnfulfilled","ref","width","height","useImperativeHandle","swipe","dir","power","disturbance","random","restoreCard","handleSwipeReleased","useCallback","vx","dx","vy","dy","includes","swipeThresholdFulfilledDirection","gestureStateFromWebEvent","ev","startPositon","lastPosition","isTouch","touches","clientX","clientY","timeStamp","Date","now","gestureState","useLayoutEffect","isClicking","onTouchStart","srcElement","cancelable","preventDefault","element","current","addEventListener","onMouseDown","handleMove","rot","isNaN","max","min","onMouseMove","window","onMouseUp","onTouchMove","onTouchEnd","removeEventListener","useRef","createElement","style","transform","to","_c2","module","exports","$RefreshReg$"],"sources":["/Users/abhi/Desktop/Tinder clone/tinder-clone/client/src/components/TinderCard.js"],"sourcesContent":["const React = require('react')\nconst { useSpring, animated } = require('@react-spring/web')\nconst useWindowSize = require('./useWindowSize')\n\nconst settings = {\n  maxTilt: 25, // in deg\n  rotationPower: 50,\n  swipeThreshold: 0.5 // need to update this threshold for RN (1.5 seems reasonable...?)\n}\n\n// physical properties of the spring\nconst physics = {\n  touchResponsive: {\n    friction: 50,\n    tension: 2000\n  },\n  animateOut: {\n    friction: 30,\n    tension: 400\n  },\n  animateBack: {\n    friction: 10,\n    tension: 200\n  }\n}\n\nconst pythagoras = (x, y) => {\n  return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2))\n}\n\nconst normalize = (vector) => {\n  const length = Math.sqrt(Math.pow(vector.x, 2) + Math.pow(vector.y, 2))\n  return { x: vector.x / length, y: vector.y / length }\n}\n\nconst animateOut = async (gesture, setSpringTarget, windowHeight, windowWidth) => {\n  const diagonal = pythagoras(windowHeight, windowWidth)\n  const velocity = pythagoras(gesture.x, gesture.y)\n  const finalX = diagonal * gesture.x\n  const finalY = diagonal * gesture.y\n  const finalRotation = gesture.x * 45\n  const duration = diagonal / velocity\n\n  setSpringTarget.start({\n    xyrot: [finalX, finalY, finalRotation],\n    config: { duration: duration }\n  })\n\n  // for now animate back\n  return await new Promise((resolve) =>\n    setTimeout(() => {\n      resolve()\n    }, duration)\n  )\n}\n\nconst animateBack = (setSpringTarget) => {\n  // translate back to the initial position\n  return new Promise((resolve) => {\n    setSpringTarget.start({ xyrot: [0, 0, 0], config: physics.animateBack, onRest: resolve })\n  })\n}\n\nconst getSwipeDirection = (property) => {\n  if (Math.abs(property.x) > Math.abs(property.y)) {\n    if (property.x > settings.swipeThreshold) {\n      return 'right'\n    } else if (property.x < -settings.swipeThreshold) {\n      return 'left'\n    }\n  } else {\n    if (property.y > settings.swipeThreshold) {\n      return 'down'\n    } else if (property.y < -settings.swipeThreshold) {\n      return 'up'\n    }\n  }\n  return 'none'\n}\n\n// must be created outside of the TinderCard forwardRef\nconst AnimatedDiv = animated.div\n\nconst TinderCard = React.forwardRef(\n  (\n    { flickOnSwipe = true, children, onSwipe, onCardLeftScreen, className, preventSwipe = [], swipeRequirementType = 'velocity', swipeThreshold = settings.swipeThreshold, onSwipeRequirementFulfilled, onSwipeRequirementUnfulfilled },\n    ref\n  ) => {\n    const { width, height } = useWindowSize()\n    const [{ xyrot }, setSpringTarget] = useSpring(() => ({\n      xyrot: [0, 0, 0],\n      config: physics.touchResponsive\n    }))\n\n    settings.swipeThreshold = swipeThreshold\n\n    React.useImperativeHandle(ref, () => ({\n      async swipe (dir = 'right') {\n        if (onSwipe) onSwipe(dir)\n        const power = 1.3\n        const disturbance = (Math.random() - 0.5) / 2\n        if (dir === 'right') {\n          await animateOut({ x: power, y: disturbance }, setSpringTarget, width, height)\n        } else if (dir === 'left') {\n          await animateOut({ x: -power, y: disturbance }, setSpringTarget, width, height)\n        } else if (dir === 'up') {\n          await animateOut({ x: disturbance, y: -power }, setSpringTarget, width, height)\n        } else if (dir === 'down') {\n          await animateOut({ x: disturbance, y: power }, setSpringTarget, width, height)\n        }\n        if (onCardLeftScreen) onCardLeftScreen(dir)\n      },\n      async restoreCard () {\n        await animateBack(setSpringTarget)\n      }\n    }))\n\n    const handleSwipeReleased = React.useCallback(\n      async (setSpringTarget, gesture) => {\n        // Check if this is a swipe\n        const dir = getSwipeDirection({\n          x: swipeRequirementType === 'velocity' ? gesture.vx : gesture.dx,\n          y: swipeRequirementType === 'velocity' ? gesture.vy : gesture.dy\n        })\n\n        if (dir !== 'none') {\n          if (flickOnSwipe) {\n            if (!preventSwipe.includes(dir)) {\n              if (onSwipe) onSwipe(dir)\n\n              await animateOut(swipeRequirementType === 'velocity' ? ({\n                x: gesture.vx,\n                y: gesture.vy\n              }) : (\n                normalize({ x: gesture.dx, y: gesture.dy }) // Normalize to avoid flicking the card away with super fast speed only direction is wanted here\n              ), setSpringTarget, width, height)\n              if (onCardLeftScreen) onCardLeftScreen(dir)\n              return\n            }\n          }\n        }\n\n        // Card was not flicked away, animate back to start\n        animateBack(setSpringTarget)\n      },\n      [swipeRequirementType, flickOnSwipe, preventSwipe, onSwipe, onCardLeftScreen, width, height]\n    )\n\n    let swipeThresholdFulfilledDirection = 'none'\n\n    const gestureStateFromWebEvent = (ev, startPositon, lastPosition, isTouch) => {\n      let dx = isTouch ? ev.touches[0].clientX - startPositon.x : ev.clientX - startPositon.x\n      let dy = isTouch ? ev.touches[0].clientY - startPositon.y : ev.clientY - startPositon.y\n\n      // We cant calculate velocity from the first event\n      if (startPositon.x === 0 && startPositon.y === 0) {\n        dx = 0\n        dy = 0\n      }\n\n      const vx = -(dx - lastPosition.dx) / (lastPosition.timeStamp - Date.now())\n      const vy = -(dy - lastPosition.dy) / (lastPosition.timeStamp - Date.now())\n\n      const gestureState = { dx, dy, vx, vy, timeStamp: Date.now() }\n      return gestureState\n    }\n\n    React.useLayoutEffect(() => {\n      let startPositon = { x: 0, y: 0 }\n      let lastPosition = { dx: 0, dy: 0, vx: 0, vy: 0, timeStamp: Date.now() }\n      let isClicking = false\n\n      const onTouchStart = (ev) => {\n        if (!ev.srcElement.className.includes('pressable') && ev.cancelable) {\n          ev.preventDefault()\n        }\n\n        const gestureState = gestureStateFromWebEvent(ev, startPositon, lastPosition, true)\n        lastPosition = gestureState\n        startPositon = { x: ev.touches[0].clientX, y: ev.touches[0].clientY }\n      }\n\n      element.current.addEventListener(('touchstart'), onTouchStart)\n\n      const onMouseDown = (ev) => {\n        isClicking = true\n        const gestureState = gestureStateFromWebEvent(ev, startPositon, lastPosition, false)\n        lastPosition = gestureState\n        startPositon = { x: ev.clientX, y: ev.clientY }\n      }\n\n      element.current.addEventListener(('mousedown'), onMouseDown)\n\n      const handleMove = (gestureState) => {\n        // Check fulfillment\n        if (onSwipeRequirementFulfilled || onSwipeRequirementUnfulfilled) {\n          const dir = getSwipeDirection({\n            x: swipeRequirementType === 'velocity' ? gestureState.vx : gestureState.dx,\n            y: swipeRequirementType === 'velocity' ? gestureState.vy : gestureState.dy\n          })\n          if (dir !== swipeThresholdFulfilledDirection) {\n            swipeThresholdFulfilledDirection = dir\n            if (swipeThresholdFulfilledDirection === 'none') {\n              if (onSwipeRequirementUnfulfilled) onSwipeRequirementUnfulfilled()\n            } else {\n              if (onSwipeRequirementFulfilled) onSwipeRequirementFulfilled(dir)\n            }\n          }\n        }\n\n        // use guestureState.vx / guestureState.vy for velocity calculations\n        // translate element\n        let rot = gestureState.vx * 15 // Magic number 15 looks about right\n        if (isNaN(rot)) rot = 0\n        rot = Math.max(Math.min(rot, settings.maxTilt), -settings.maxTilt)\n        setSpringTarget.start({ xyrot: [gestureState.dx, gestureState.dy, rot], config: physics.touchResponsive })\n      }\n\n      const onMouseMove = (ev) => {\n        if (!isClicking) return\n        const gestureState = gestureStateFromWebEvent(ev, startPositon, lastPosition, false)\n        lastPosition = gestureState\n        handleMove(gestureState)\n      }\n\n      window.addEventListener(('mousemove'), onMouseMove)\n\n      const onMouseUp = (ev) => {\n        if (!isClicking) return\n        isClicking = false\n        handleSwipeReleased(setSpringTarget, lastPosition)\n        startPositon = { x: 0, y: 0 }\n        lastPosition = { dx: 0, dy: 0, vx: 0, vy: 0, timeStamp: Date.now() }\n      }\n\n      window.addEventListener(('mouseup'), onMouseUp)\n\n      const onTouchMove = (ev) => {\n        const gestureState = gestureStateFromWebEvent(ev, startPositon, lastPosition, true)\n        lastPosition = gestureState\n        handleMove(gestureState)\n      }\n\n      element.current.addEventListener(('touchmove'), onTouchMove)\n\n      const onTouchEnd = (ev) => {\n        handleSwipeReleased(setSpringTarget, lastPosition)\n        startPositon = { x: 0, y: 0 }\n        lastPosition = { dx: 0, dy: 0, vx: 0, vy: 0, timeStamp: Date.now() }\n      }\n\n      element.current.addEventListener(('touchend'), onTouchEnd)\n\n      return () => {\n        element.current.removeEventListener(('touchstart'), onTouchStart)\n        element.current.removeEventListener(('touchmove'), onTouchMove)\n        element.current.removeEventListener(('touchend'), onTouchEnd)\n        window.removeEventListener(('mousemove'), onMouseMove)\n        window.removeEventListener(('mouseup'), onMouseUp)\n        element.current.removeEventListener(('mousedown'), onMouseDown)\n      }\n    }, [handleSwipeReleased, setSpringTarget, onSwipeRequirementFulfilled, onSwipeRequirementUnfulfilled])\n\n    const element = React.useRef()\n\n    return (\n      React.createElement(AnimatedDiv, {\n        ref: element,\n        className,\n        style: {\n          transform: xyrot.to((x, y, rot) => `translate3d(${x}px, ${y}px, ${0}px) rotate(${rot}deg)`)\n        },\n        children\n      })\n    )\n  }\n)\n\nmodule.exports = TinderCard\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}